# Prompt 增强示例集

## 示例 1：API 开发

### 原始 Prompt
> Build a todo API and make it good.

### 增强后的 Prompt

```markdown
## 任务描述
构建一个功能完整的 RESTful Todo API

## 技术要求
- 使用项目现有技术栈
- 遵循 RESTful API 设计规范
- 使用 TypeScript 确保类型安全

## 实现细节
- **端点设计**：
  - `GET /api/todos` - 获取所有 todo（支持分页）
  - `GET /api/todos/:id` - 获取单个 todo
  - `POST /api/todos` - 创建 todo
  - `PUT /api/todos/:id` - 更新 todo
  - `DELETE /api/todos/:id` - 删除 todo
- **数据模型**：
  - id: string (UUID)
  - title: string (必填, 1-200字符)
  - description?: string (可选, 最多1000字符)
  - completed: boolean (默认 false)
  - createdAt: Date
  - updatedAt: Date
- **输入验证**：使用 zod 或类似库
- **错误处理**：统一错误响应格式

## 完成标准
- [ ] 所有 CRUD 端点正常工作
- [ ] 输入验证已实现，非法输入返回 400
- [ ] 资源不存在返回 404
- [ ] 单元测试覆盖率 > 80%
- [ ] README 包含 API 文档和使用示例
```

### 改进说明
1. 明确了 RESTful 端点设计
2. 定义了完整的数据模型
3. 添加了具体的验收标准
4. 包含了错误处理要求

---

## 示例 2：Bug 修复

### 原始 Prompt
> The login is broken, fix it

### 增强后的 Prompt

```markdown
## 任务描述
修复登录功能异常问题

## 需要澄清（请补充）
- [ ] 具体错误现象（无法点击/报错/跳转失败）？
- [ ] 控制台或网络请求有错误信息吗？
- [ ] 问题在所有浏览器都出现还是特定浏览器？
- [ ] 最近是否有相关代码改动？

## 调查步骤
1. 复现问题并记录具体表现
2. 检查浏览器控制台错误
3. 检查网络请求响应
4. 审查登录相关代码最近的 commit

## 完成标准
- [ ] 问题根因已定位
- [ ] 修复后登录功能正常
- [ ] 相关测试用例通过
- [ ] 未引入回归问题
```

### 改进说明
1. 添加了需要用户补充的关键信息
2. 提供了系统的调查步骤
3. 定义了明确的完成标准

---

## 示例 3：UI 功能

### 原始 Prompt
> Add dark mode

### 增强后的 Prompt

```markdown
## 任务描述
为应用添加深色模式切换功能

## 技术方案
- 使用 CSS 变量（CSS Custom Properties）管理主题色
- 通过 `data-theme` 属性切换主题
- 使用 `prefers-color-scheme` 媒体查询检测系统偏好
- 用户偏好保存到 localStorage

## 实现细节
- **切换控件**：
  - 位置：导航栏右侧
  - 样式：太阳/月亮图标
  - 过渡动画：0.3s ease
- **主题变量**：
  ```css
  --bg-primary, --bg-secondary
  --text-primary, --text-secondary
  --border-color
  --shadow-color
  ```
- **初始化逻辑**：
  1. 检查 localStorage 是否有用户偏好
  2. 如无，检测系统偏好
  3. 应用对应主题

## 完成标准
- [ ] 点击切换按钮可在亮/暗模式间切换
- [ ] 刷新页面后保持用户选择
- [ ] 首次访问跟随系统主题偏好
- [ ] 所有页面组件主题一致
- [ ] 切换时有平滑过渡动画
```

### 改进说明
1. 确定了技术实现方案
2. 详细定义了主题变量
3. 说明了初始化优先级逻辑
4. 包含了用户体验要求（动画）

---

## 示例 4：性能优化

### 原始 Prompt
> Make it faster

### 增强后的 Prompt

```markdown
## 任务描述
优化应用性能

## 需要澄清（请补充）
- [ ] 具体哪个页面/功能感觉慢？
- [ ] 目前加载时间大概是多少？
- [ ] 期望的目标加载时间？
- [ ] 是首次加载慢还是交互响应慢？

## 调查步骤
1. 使用 Lighthouse 进行性能审计
2. 分析 Network 面板的资源加载
3. 使用 Performance 面板分析运行时性能
4. 检查 bundle 大小

## 常见优化方向
- **加载性能**：代码分割、懒加载、图片优化
- **运行时性能**：减少重渲染、虚拟列表、防抖节流
- **缓存策略**：HTTP 缓存、Service Worker

## 完成标准
- [ ] Lighthouse 性能分数提升 X 分
- [ ] 首次内容渲染 (FCP) < X 秒
- [ ] 可交互时间 (TTI) < X 秒
- [ ] 优化措施已记录
```

### 改进说明
1. 引导用户提供具体的性能问题
2. 提供系统的分析方法
3. 建议可量化的完成标准

---

## 示例 5：重构请求

### 原始 Prompt
> Clean up this code

### 增强后的 Prompt

```markdown
## 任务描述
重构指定代码以提高可维护性

## 需要澄清
- [ ] 哪个文件/模块需要重构？
- [ ] 主要问题是什么（重复代码/命名混乱/过长函数）？
- [ ] 是否有相关测试覆盖？

## 重构原则
- 保持外部行为不变
- 小步重构，每步可验证
- 优先提取重复代码
- 遵循单一职责原则

## 完成标准
- [ ] 功能行为与重构前一致
- [ ] 所有现有测试通过
- [ ] 代码复杂度降低（可用工具度量）
- [ ] 符合项目代码规范
```

### 改进说明
1. 要求明确重构范围
2. 强调保持行为不变
3. 提供了重构原则指导
